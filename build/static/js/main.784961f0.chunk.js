(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},92:function(t,e,n){},94:function(t,e,n){},95:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n(10),o=n.n(a),i=n(9),u=n(11),s=n(12),l=n(15),b=n(14),j=n(4),f=n(17),h=n.n(f),d=n(3),m=Object(d.b)("contacts/fetchContactRequest"),O=Object(d.b)("contacts/fetchContactSuccess"),p=Object(d.b)("contacts/fetchContactError"),g=Object(d.b)("contacts/addContactRequest"),v=Object(d.b)("contacts/addContactSuccess"),x=Object(d.b)("contacts/addContactError"),C=Object(d.b)("contacts/removeContactRequest"),y=Object(d.b)("contacts/removeContactSuccess"),w=Object(d.b)("contacts/removeContactError"),k=Object(d.b)("contacts/changeFilter"),N=Object(d.b)("contacts/clearError");h.a.defaults.baseURL="http://localhost:4040";var E={fetchContacts:function(){return function(t){t(m()),h.a.get("/contacts").then((function(e){var n=e.data;return t(O(n))})).catch((function(e){return t(p(e))}))}},addContact:function(t,e){return function(n){var c={name:t,number:e};n(g()),h.a.post("/contacts",c).then((function(t){var e=t.data;return n(v(e))})).catch((function(t){return n(x(t))}))}},removeContact:function(t){return function(e){e(C()),h.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(w(t))}))}}},L=n(19),S=function(t){return t.phoneBook.filter},F=function(t){return t.phoneBook.contacts},I={getLoading:function(t){return t.phoneBook.loading},getFilter:S,getVisibleContacts:Object(L.a)([F,S],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getAllContacts:F,getError:function(t){return t.phoneBook.error}},R=n(96),B=(n(66),function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.error&&setTimeout((function(){t.props.clearError()}),2500)}},{key:"render",value:function(){return Object(c.jsx)(R.a,{in:this.props.message,timeout:250,classNames:"Notification-fade",unmountOnExit:!0,children:Object(c.jsx)("div",{className:"Overlay",children:Object(c.jsx)("p",{className:"Notification",children:this.props.message})})})}}]),n}(r.Component)),M=Object(i.b)((function(t){return{error:I.getError(t)}}),(function(t){return{clearError:function(){return t(N())}}}))(B),A=(n(67),function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",message:null},t.setMessage=function(e){t.setState({message:e}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleChange=function(e){var n=e.target,c=n.name,r=n.value;t.setState(Object(j.a)({},c,r))},t.handleSubmit=function(e){var n=t.state,c=n.name,r=n.number;e.preventDefault(),""!==c?""!==r?t.props.contacts.find((function(t){return t.name.toLowerCase()===c.toLowerCase()}))?t.setMessage("Contact already exists!"):(t.props.onSubmit(c,r),t.setState({name:"",number:""})):t.setMessage("Enter concact phone, please!"):t.setMessage("Enter contact name, please!")},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,r=t.message;return Object(c.jsxs)("div",{children:[Object(c.jsx)(M,{message:r}),Object(c.jsxs)("form",{className:"Form",onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{htmlFor:"name",className:"Label",children:"Name"}),Object(c.jsx)("input",{type:"text",value:e,id:"name",className:"Input",onChange:this.handleChange,name:"name",placeholder:"John Smith"}),Object(c.jsx)("label",{htmlFor:"number",className:"Label",children:"Number"}),Object(c.jsx)("input",{type:"tel",value:n,id:"number",className:"Input",onChange:this.handleChange,name:"number",placeholder:"+38(067)777-77-77"}),Object(c.jsx)("button",{type:"submit",className:"ContactFormButton",children:"Add contact"})]})]})}}]),n}(r.Component)),T=Object(i.b)((function(t){return{contacts:I.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(E.addContact(e,n))}}}))(A),P=(n(68),function(t){var e=t.children;return Object(c.jsx)("div",{className:"Layout",children:e})}),q=(n(69),Object(i.b)((function(t){return{value:I.getFilter(t),contacts:I.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(k(e.target.value))}}}))((function(t){var e=t.value,n=t.onChangeFilter,r=t.contacts;return Object(c.jsx)(R.a,{in:r.length>1,timeout:250,classNames:"Filter-fade",unmountOnExit:!0,children:Object(c.jsxs)("div",{className:"FindForm",children:[Object(c.jsx)("label",{htmlFor:"find",className:"FindLabel",children:"Find contact by name"}),Object(c.jsx)("input",{type:"text",value:e,id:"find",className:"FindInput",onChange:n})]})})}))),D=(n(70),n(37)),J=(n(71),function(t){var e=t.children,n=t.onClick;Object(D.a)(t,["children","onClick"]);return Object(c.jsx)("button",{type:"button",onClick:n,className:"IconButton",children:e})});J.defaultProps={onClick:function(){return null},children:null};var V=J;function z(){return(z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t}).apply(this,arguments)}function U(t,e){if(null==t)return{};var n,c,r=function(t,e){if(null==t)return{};var n,c,r={},a=Object.keys(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var X=r.createElement("path",{d:"M59.595,52.861L37.094,30.359L59.473,7.98c1.825-1.826,1.825-4.786,0-6.611 c-1.826-1.825-4.785-1.825-6.611,0L30.483,23.748L8.105,1.369c-1.826-1.825-4.785-1.825-6.611,0c-1.826,1.826-1.826,4.786,0,6.611 l22.378,22.379L1.369,52.861c-1.826,1.826-1.826,4.785,0,6.611c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 l22.502-22.502l22.501,22.502c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 C61.42,57.647,61.42,54.687,59.595,52.861z"});function _(t,e){var n=t.title,c=t.titleId,a=U(t,["title","titleId"]);return r.createElement("svg",z({fill:"currentColor",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 60.963 60.842",style:{enableBackground:"new 0 0 60.963 60.842"},xmlSpace:"preserve",ref:e,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,X)}var G,H,K,Q=r.forwardRef(_),W=(n.p,n(97)),Y=Object(i.b)((function(t){return{contacts:I.getVisibleContacts(t)}}),(function(t){return{onRemoveContact:function(e){return t(E.removeContact(e))}}}))((function(t){var e=t.contacts,n=t.onRemoveContact;return Object(c.jsx)(W.a,{component:"ul",children:e.map((function(t,e){var r=t.id,a=t.name,o=t.number;return Object(c.jsx)(R.a,{timeout:250,classNames:"ContactItem-fade",children:Object(c.jsxs)("li",{className:"ContactItem",children:[e+1,". ",a,": ",o,Object(c.jsx)(V,{onClick:function(){return n(r)},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",children:Object(c.jsx)(Q,{width:"17",height:"17",fill:"#fff"})})]})},r)}))})})),Z=(n(72),function(){return Object(c.jsx)(R.a,{in:!0,appear:!0,timeout:500,classNames:"Title-SlideIn",unmountOnExit:!0,children:Object(c.jsx)("h1",{className:"Title",children:"Phonebook"})})}),$=n(35),tt=n.n($),et=(n(91),n(92),function(){return Object(c.jsx)("div",{className:"Loader",children:Object(c.jsx)(tt.a,{type:"TailSpin",color:"#3f51b5",height:100,width:100,timeout:300})})}),nt=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(c.jsxs)(P,{children:[Object(c.jsx)(Z,{}),this.props.error&&Object(c.jsx)(M,{message:"ERROR: ".concat(this.props.error.message,".")}),Object(c.jsx)(T,{}),Object(c.jsx)(q,{}),this.props.isLoadingContacts&&Object(c.jsx)(et,{}),Object(c.jsx)(R.a,{in:this.props.contacts.length>0,timeout:0,ommountOnExit:!0,children:Object(c.jsx)(Y,{})})]})}}]),n}(r.Component),ct=Object(i.b)((function(t){return{contacts:I.getAllContacts(t),isLoadingContacts:I.getLoading(t),error:I.getError(t)}}),(function(t){return{fetchContacts:function(){return t(E.fetchContacts())}}}))(nt),rt=n(20),at=n(36),ot=n.n(at),it=n(8),ut=[],st="",lt=!1,bt=null,jt=Object(d.c)(ut,(G={},Object(j.a)(G,O,(function(t,e){return e.payload})),Object(j.a)(G,v,(function(t,e){var n=e.payload;return[].concat(Object(rt.a)(t),[n])})),Object(j.a)(G,y,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),G)),ft=Object(d.c)(lt,(H={},Object(j.a)(H,m,(function(){return!0})),Object(j.a)(H,O,(function(){return!1})),Object(j.a)(H,p,(function(){return!1})),Object(j.a)(H,g,(function(){return!0})),Object(j.a)(H,v,(function(){return!1})),Object(j.a)(H,x,(function(){return!1})),Object(j.a)(H,C,(function(){return!0})),Object(j.a)(H,y,(function(){return!1})),Object(j.a)(H,w,(function(){return!1})),H)),ht=Object(d.c)(st,Object(j.a)({},k,(function(t,e){return e.payload}))),dt=Object(d.c)(bt,(K={},Object(j.a)(K,p,(function(t,e){return e.payload})),Object(j.a)(K,x,(function(t,e){return e.payload})),Object(j.a)(K,w,(function(t,e){return e.payload})),Object(j.a)(K,N,(function(){return null})),K)),mt=Object(it.c)({contacts:jt,filter:ht,loading:ft,error:dt}),Ot=[].concat(Object(rt.a)(Object(d.d)()),[ot.a]),pt=Object(d.a)({reducer:{phoneBook:mt},middleware:Ot,devTools:!1});n(93),n(94);console.log(pt),o.a.render(Object(c.jsx)(i.a,{store:pt,children:Object(c.jsx)(ct,{})}),document.querySelector("#root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.784961f0.chunk.js.map