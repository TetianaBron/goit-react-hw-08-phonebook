(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{111:function(t,e,n){"use strict";var r=n(27),c=function(t){return t.phoneBook.filter},a=function(t){return t.phoneBook.contacts},o={getLoading:function(t){return t.phoneBook.loading},getFilter:c,getVisibleContacts:Object(r.a)([a,c],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getAllContacts:a,getError:function(t){return t.phoneBook.error}};e.a=o},112:function(t,e,n){"use strict";var r=n(1),c=n(36),a=n(37),o=n(39),i=n(38),u=n(0),s=n(9),l=n(10),f=n(124),h=(n(113),n(111)),b=n(17),d=n(4),m=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.errorPb?setTimeout((function(){t.props.clearErrorPb()}),2500):this.props.errorAuth&&setTimeout((function(){t.props.clearErrorAuth()}),2500)}},{key:"render",value:function(){return Object(r.jsx)(f.a,{in:this.props.message,timeout:250,classNames:"Notification-fade",unmountOnExit:!0,children:Object(r.jsx)("div",{className:"Overlay",children:Object(r.jsx)("p",{className:"Notification",children:this.props.message})})})}}]),n}(u.Component);e.a=Object(l.b)((function(t){return{errorPb:h.a.getError(t),errorAuth:b.a.getError(t)}}),(function(t){return{clearErrorPb:function(){return t(s.e())},clearErrorAuth:function(){return t(d.a.clearError())}}}))(m)},113:function(t,e,n){},116:function(t,e,n){},117:function(t,e,n){},118:function(t,e,n){},119:function(t,e,n){},123:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(36),a=n(37),o=n(39),i=n(38),u=n(0),s=n.n(u),l=n(10),f=n(49),h=n(2),b=n(20),d=n.n(b),m=n(9),p={fetchContacts:function(){return function(t){t(Object(m.g)()),d.a.get("/contacts").then((function(e){var n=e.data;return t(Object(m.h)(n))})).catch((function(e){return t(Object(m.f)(e.message))}))}},addContact:function(t,e){return function(n){var r={name:t,number:e};n(Object(m.b)()),d.a.post("/contacts",r).then((function(t){var e=t.data;return n(Object(m.c)(e))})).catch((function(t){return n(Object(m.a)(t.message))}))}},removeContact:function(t){return function(e){e(Object(m.j)()),d.a.delete("/contacts/".concat(t)).then((function(){return e(Object(m.k)(t))})).catch((function(t){return e(Object(m.i)(t.message))}))}}},j=n(111),O=n(112),v=(n(116),function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",message:null},t.setMessage=function(e){t.setState({message:e}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleChange=function(e){var n=e.target,r=n.name,c=n.value;t.setState(Object(h.a)({},r,c))},t.handleSubmit=function(e){var n=t.state,r=n.name,c=n.number;e.preventDefault(),""!==r?""!==c?t.props.contacts.find((function(t){return t.name.toLowerCase()===r.toLowerCase()}))?t.setMessage("Contact already exists!"):(t.props.onSubmit(r,c),t.setState({name:"",number:""})):t.setMessage("Enter concact phone, please!"):t.setMessage("Enter contact name, please!")},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.message;return Object(r.jsxs)("div",{children:[Object(r.jsx)(O.a,{message:c}),Object(r.jsxs)("form",{className:"Form",onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(r.jsx)("label",{htmlFor:"name",className:"Label",children:"Name"}),Object(r.jsx)("input",{type:"text",value:e,id:"name",className:"Input",onChange:this.handleChange,name:"name",placeholder:"John Smith"}),Object(r.jsx)("label",{htmlFor:"number",className:"Label",children:"Number"}),Object(r.jsx)("input",{type:"tel",value:n,id:"number",className:"Input",onChange:this.handleChange,name:"number",placeholder:"+38(067)777-77-77"}),Object(r.jsx)("button",{type:"submit",className:"Button",children:"Add contact"})]})]})}}]),n}(u.Component)),g=Object(l.b)((function(t){return{contacts:j.a.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(p.addContact(e,n))}}}))(v),x=(n(117),n(124)),C=Object(l.b)((function(t){return{value:j.a.getFilter(t),contacts:j.a.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(m.d(e.target.value))}}}))((function(t){var e=t.value,n=t.onChangeFilter,c=t.contacts;return Object(r.jsx)(x.a,{in:c.length>1,timeout:250,classNames:"Filter-fade",unmountOnExit:!0,children:Object(r.jsxs)("div",{className:"FindForm",children:[Object(r.jsx)("label",{htmlFor:"find",className:"FindLabel",children:"Find contact by name"}),Object(r.jsx)("input",{type:"text",value:e,id:"find",className:"FindInput",onChange:n})]})})})),E=(n(118),n(29)),y=(n(119),function(t){var e=t.children,n=t.onClick;Object(E.a)(t,["children","onClick"]);return Object(r.jsx)("button",{type:"button",onClick:n,className:"IconButton",children:e})});y.defaultProps={onClick:function(){return null},children:null};var k=y;function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function N(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}var F=u.createElement("path",{d:"M59.595,52.861L37.094,30.359L59.473,7.98c1.825-1.826,1.825-4.786,0-6.611 c-1.826-1.825-4.785-1.825-6.611,0L30.483,23.748L8.105,1.369c-1.826-1.825-4.785-1.825-6.611,0c-1.826,1.826-1.826,4.786,0,6.611 l22.378,22.379L1.369,52.861c-1.826,1.826-1.826,4.785,0,6.611c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 l22.502-22.502l22.501,22.502c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 C61.42,57.647,61.42,54.687,59.595,52.861z"});function L(t,e){var n=t.title,r=t.titleId,c=N(t,["title","titleId"]);return u.createElement("svg",w({fill:"currentColor",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 60.963 60.842",style:{enableBackground:"new 0 0 60.963 60.842"},xmlSpace:"preserve",ref:e,"aria-labelledby":r},c),n?u.createElement("title",{id:r},n):null,F)}var S=u.forwardRef(L),P=(n.p,n(11)),A=n(5);var I=n(13),M=(n(6),n(114));function R(t,e){var n=Object.create(null);return t&&u.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&Object(u.isValidElement)(t)?e(t):t}(t)})),n}function V(t,e,n){return null!=n[e]?n[e]:t.props[e]}function B(t,e,n){var r=R(t.children),c=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,c=Object.create(null),a=[];for(var o in t)o in e?a.length&&(c[o]=a,a=[]):a.push(o);var i={};for(var u in e){if(c[u])for(r=0;r<c[u].length;r++){var s=c[u][r];i[c[u][r]]=n(s)}i[u]=n(u)}for(r=0;r<a.length;r++)i[a[r]]=n(a[r]);return i}(e,r);return Object.keys(c).forEach((function(a){var o=c[a];if(Object(u.isValidElement)(o)){var i=a in e,s=a in r,l=e[a],f=Object(u.isValidElement)(l)&&!l.props.in;!s||i&&!f?s||!i||f?s&&i&&Object(u.isValidElement)(l)&&(c[a]=Object(u.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:V(o,"exit",t),enter:V(o,"enter",t)})):c[a]=Object(u.cloneElement)(o,{in:!1}):c[a]=Object(u.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:V(o,"exit",t),enter:V(o,"enter",t)})}})),c}var T=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},D=function(t){function e(e,n){var r,c=(r=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r));return r.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},r}Object(I.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,c=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,r=a,R(n.children,(function(t){return Object(u.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:V(t,"appear",n),enter:V(t,"enter",n),exit:V(t,"exit",n)})}))):B(t,c,a),firstRender:!1}},n.handleExited=function(t,e){var n=R(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=Object(A.a)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=Object(P.a)(t,["component","childFactory"]),c=this.state.contextValue,a=T(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?s.a.createElement(M.a.Provider,{value:c},a):s.a.createElement(M.a.Provider,{value:c},s.a.createElement(e,r,a))},e}(s.a.Component);D.propTypes={},D.defaultProps={component:"div",childFactory:function(t){return t}};var J=D,z=Object(l.b)((function(t){return{contacts:j.a.getVisibleContacts(t)}}),(function(t){return{onRemoveContact:function(e){return t(p.removeContact(e))}}}))((function(t){var e=t.contacts,n=t.onRemoveContact;return Object(r.jsx)(J,{component:"ul",children:e.map((function(t,e){var c=t.id,a=t.name,o=t.number;return Object(r.jsx)(x.a,{timeout:250,classNames:"ContactItem-fade",children:Object(r.jsxs)("li",{className:"ContactItem",children:[e+1,". ",a,": ",o,Object(r.jsx)(k,{onClick:function(){return n(c)},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",children:Object(r.jsx)(S,{width:"17",height:"17",fill:"#fff"})})]})},c)}))})})),U=function(){return Object(r.jsx)(x.a,{in:!0,appear:!0,timeout:500,classNames:"Title-SlideIn",unmountOnExit:!0,children:Object(r.jsx)("h1",{className:"Title",children:"Phonebook"})})},W=n(28),X=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(U,{}),this.props.error&&Object(r.jsx)(O.a,{message:"ERROR: ".concat(this.props.error.message,".")}),Object(r.jsx)(g,{}),Object(r.jsx)(C,{}),this.props.isLoadingContacts&&Object(r.jsx)(W.a,{}),Object(r.jsx)(x.a,{in:this.props.contacts.length>0,timeout:0,ommountOnExit:!0,children:Object(r.jsx)(z,{})})]})}}]),n}(u.Component);e.default=Object(l.b)((function(t){return{contacts:j.a.getAllContacts(t),isLoadingContacts:j.a.getLoading(t),error:j.a.getError(t)}}),(function(t){return{fetchContacts:function(){return t(p.fetchContacts())}}}))(X)}}]);
//# sourceMappingURL=4.27086943.chunk.js.map