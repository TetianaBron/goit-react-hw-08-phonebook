(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(35),a=n(36),o=n(38),i=n(37),s=n(0),u=n.n(s),l=n(10),f=n(48),h=n(2),d=n(19),b=n.n(d),m=n(9),p={fetchContacts:function(){return function(e){e(Object(m.g)()),b.a.get("/contacts").then((function(t){var n=t.data;return e(Object(m.h)(n))})).catch((function(t){return e(Object(m.f)(t.message))}))}},addContact:function(e,t){return function(n){var r={name:e,number:t};n(Object(m.b)()),b.a.post("/contacts",r).then((function(e){var t=e.data;return n(Object(m.c)(t))})).catch((function(e){return n(Object(m.a)(e.message))}))}},removeContact:function(e){return function(t){t(Object(m.j)()),b.a.delete("/contacts/".concat(e)).then((function(){return t(Object(m.k)(e))})).catch((function(e){return t(Object(m.i)(e.message))}))}}},j=n(26),O=function(e){return e.phoneBook.filter},v=function(e){return e.phoneBook.contacts},g={getLoading:function(e){return e.phoneBook.loading},getFilter:O,getVisibleContacts:Object(j.a)([v,O],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),getAllContacts:v,getError:function(e){return e.phoneBook.error}},x=n(121),C=(n(112),function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.error&&setTimeout((function(){e.props.clearError()}),2500)}},{key:"render",value:function(){return Object(r.jsx)(x.a,{in:this.props.message,timeout:250,classNames:"Notification-fade",unmountOnExit:!0,children:Object(r.jsx)("div",{className:"Overlay",children:Object(r.jsx)("p",{className:"Notification",children:this.props.message})})})}}]),n}(s.Component)),y=Object(l.b)((function(e){return{error:g.getError(e)}}),(function(e){return{clearError:function(){return e(m.e())}}}))(C),E=(n(113),function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={name:"",number:"",message:null},e.setMessage=function(t){e.setState({message:t}),setTimeout((function(){e.setState({message:null})}),2500)},e.handleChange=function(t){var n=t.target,r=n.name,c=n.value;e.setState(Object(h.a)({},r,c))},e.handleSubmit=function(t){var n=e.state,r=n.name,c=n.number;t.preventDefault(),""!==r?""!==c?e.props.contacts.find((function(e){return e.name.toLowerCase()===r.toLowerCase()}))?e.setMessage("Contact already exists!"):(e.props.onSubmit(r,c),e.setState({name:"",number:""})):e.setMessage("Enter concact phone, please!"):e.setMessage("Enter contact name, please!")},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,c=e.message;return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{message:c}),Object(r.jsxs)("form",{className:"Form",onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(r.jsx)("label",{htmlFor:"name",className:"Label",children:"Name"}),Object(r.jsx)("input",{type:"text",value:t,id:"name",className:"Input",onChange:this.handleChange,name:"name",placeholder:"John Smith"}),Object(r.jsx)("label",{htmlFor:"number",className:"Label",children:"Number"}),Object(r.jsx)("input",{type:"tel",value:n,id:"number",className:"Input",onChange:this.handleChange,name:"number",placeholder:"+38(067)777-77-77"}),Object(r.jsx)("button",{type:"submit",className:"Button",children:"Add contact"})]})]})}}]),n}(s.Component)),k=Object(l.b)((function(e){return{contacts:g.getAllContacts(e)}}),(function(e){return{onSubmit:function(t,n){return e(p.addContact(t,n))}}}))(E),w=(n(114),Object(l.b)((function(e){return{value:g.getFilter(e),contacts:g.getAllContacts(e)}}),(function(e){return{onChangeFilter:function(t){return e(m.d(t.target.value))}}}))((function(e){var t=e.value,n=e.onChangeFilter,c=e.contacts;return Object(r.jsx)(x.a,{in:c.length>1,timeout:250,classNames:"Filter-fade",unmountOnExit:!0,children:Object(r.jsxs)("div",{className:"FindForm",children:[Object(r.jsx)("label",{htmlFor:"find",className:"FindLabel",children:"Find contact by name"}),Object(r.jsx)("input",{type:"text",value:t,id:"find",className:"FindInput",onChange:n})]})})}))),N=(n(115),n(28)),F=(n(116),function(e){var t=e.children,n=e.onClick;Object(N.a)(e,["children","onClick"]);return Object(r.jsx)("button",{type:"button",onClick:n,className:"IconButton",children:t})});F.defaultProps={onClick:function(){return null},children:null};var L=F;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var M=s.createElement("path",{d:"M59.595,52.861L37.094,30.359L59.473,7.98c1.825-1.826,1.825-4.786,0-6.611 c-1.826-1.825-4.785-1.825-6.611,0L30.483,23.748L8.105,1.369c-1.826-1.825-4.785-1.825-6.611,0c-1.826,1.826-1.826,4.786,0,6.611 l22.378,22.379L1.369,52.861c-1.826,1.826-1.826,4.785,0,6.611c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 l22.502-22.502l22.501,22.502c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 C61.42,57.647,61.42,54.687,59.595,52.861z"});function R(e,t){var n=e.title,r=e.titleId,c=I(e,["title","titleId"]);return s.createElement("svg",S({fill:"currentColor",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 60.963 60.842",style:{enableBackground:"new 0 0 60.963 60.842"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,M)}var P=s.forwardRef(R),V=(n.p,n(11)),B=n(5);var A=n(13),D=(n(6),n(110));function T(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function J(e,t,n){return null!=n[t]?n[t]:e.props[t]}function z(e,t,n){var r=T(e.children),c=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,c=Object.create(null),a=[];for(var o in e)o in t?a.length&&(c[o]=a,a=[]):a.push(o);var i={};for(var s in t){if(c[s])for(r=0;r<c[s].length;r++){var u=c[s][r];i[c[s][r]]=n(u)}i[s]=n(s)}for(r=0;r<a.length;r++)i[a[r]]=n(a[r]);return i}(t,r);return Object.keys(c).forEach((function(a){var o=c[a];if(Object(s.isValidElement)(o)){var i=a in t,u=a in r,l=t[a],f=Object(s.isValidElement)(l)&&!l.props.in;!u||i&&!f?u||!i||f?u&&i&&Object(s.isValidElement)(l)&&(c[a]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:J(o,"exit",e),enter:J(o,"enter",e)})):c[a]=Object(s.cloneElement)(o,{in:!1}):c[a]=Object(s.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:J(o,"exit",e),enter:J(o,"enter",e)})}})),c}var U=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},W=function(e){function t(t,n){var r,c=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},r}Object(A.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,c=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,T(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:J(e,"appear",n),enter:J(e,"enter",n),exit:J(e,"exit",n)})}))):z(e,c,a),firstRender:!1}},n.handleExited=function(e,t){var n=T(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(B.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(V.a)(e,["component","childFactory"]),c=this.state.contextValue,a=U(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.a.createElement(D.a.Provider,{value:c},a):u.a.createElement(D.a.Provider,{value:c},u.a.createElement(t,r,a))},t}(u.a.Component);W.propTypes={},W.defaultProps={component:"div",childFactory:function(e){return e}};var X=W,_=Object(l.b)((function(e){return{contacts:g.getVisibleContacts(e)}}),(function(e){return{onRemoveContact:function(t){return e(p.removeContact(t))}}}))((function(e){var t=e.contacts,n=e.onRemoveContact;return Object(r.jsx)(X,{component:"ul",children:t.map((function(e,t){var c=e.id,a=e.name,o=e.number;return Object(r.jsx)(x.a,{timeout:250,classNames:"ContactItem-fade",children:Object(r.jsxs)("li",{className:"ContactItem",children:[t+1,". ",a,": ",o,Object(r.jsx)(L,{onClick:function(){return n(c)},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",children:Object(r.jsx)(P,{width:"17",height:"17",fill:"#fff"})})]})},c)}))})})),q=function(){return Object(r.jsx)(x.a,{in:!0,appear:!0,timeout:500,classNames:"Title-SlideIn",unmountOnExit:!0,children:Object(r.jsx)("h1",{className:"Title",children:"Phonebook"})})},G=n(27),H=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(q,{}),this.props.error&&Object(r.jsx)(y,{message:"ERROR: ".concat(this.props.error.message,".")}),Object(r.jsx)(k,{}),Object(r.jsx)(w,{}),this.props.isLoadingContacts&&Object(r.jsx)(G.a,{}),Object(r.jsx)(x.a,{in:this.props.contacts.length>0,timeout:0,ommountOnExit:!0,children:Object(r.jsx)(_,{})})]})}}]),n}(s.Component);t.default=Object(l.b)((function(e){return{contacts:g.getAllContacts(e),isLoadingContacts:g.getLoading(e),error:g.getError(e)}}),(function(e){return{fetchContacts:function(){return e(p.fetchContacts())}}}))(H)}}]);
//# sourceMappingURL=4.48b61d78.chunk.js.map